<!DOCTYPE html>
<html lang="en">
    <head>
        <style>
            [data-color="red"] { color: red; }
            [data-color="blue"] { color: blue; }
            [data-color="green"] { color: green; }
            [data-color="orange"] { color: orange; }
            [data-color="purple"] { color: purple; }
        </style>
        <script>
            window.myHandler = () => {
                console.log("Click!");
            };

            window.getRandomNumber = (max) => {
                return Math.floor(Math.random() * max);
            };

            const colors = ["red", "blue", "green", "orange", "purple"];
            window.changeHeadlineColor = (croHeadline) => {
                const colorIndex = window.getRandomNumber(colors.length);
                const newColor = colors[colorIndex];
                const newTimeoutMillis = window.getRandomNumber(5000);

                setTimeout(() => {
                    croHeadline.setAttribute("data-color", newColor);
                    window.changeHeadlineColor(croHeadline);
                }, newTimeoutMillis);
            };
        </script>
        <script>
            window.changeHeadlineText = () => {
                document.getElementById("cro-headline").textContent = "Ichiro Daichi";
            };
        </script>
    </head>
    <body>
        <div id="myDiv">OMG Click me!</div>
        <script>
            const myDiv = document.querySelector("#myDiv");
            myDiv.addEventListener("click", window.myHandler);

            const newTimeoutMillis = window.getRandomNumber(5000);
            setTimeout(() => {
                myDiv.insertAdjacentHTML("beforebegin", `<h1 id="cro-headline" data-color="red">Cro Metrics</h1>`);

                const croHeadline = document.querySelector("#cro-headline");
                window.changeHeadlineColor(croHeadline);
                window.changeHeadlineText();
            }, newTimeoutMillis);
        </script>
    </body>
</html>